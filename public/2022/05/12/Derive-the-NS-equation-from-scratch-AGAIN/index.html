

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#84674f">
  <meta name="author" content="Ryan LI">
  <meta name="keywords" content="">
  
    <meta name="description" content="Feeling unsafe when deploying CFD algorithms, the best way to alleviate the anxiety is to derive the fundamentals again.">
<meta property="og:type" content="article">
<meta property="og:title" content="Derivation of Integral Fluid Equations">
<meta property="og:url" content="https://daydreamatnight.github.io/2022/05/12/Derive-the-NS-equation-from-scratch-AGAIN/index.html">
<meta property="og:site_name" content="ShouRou">
<meta property="og:description" content="Feeling unsafe when deploying CFD algorithms, the best way to alleviate the anxiety is to derive the fundamentals again.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://daydreamatnight.github.io/index/deriving_NS_intergral.png">
<meta property="article:published_time" content="2022-05-12T09:39:18.000Z">
<meta property="article:modified_time" content="2022-05-20T16:26:46.974Z">
<meta property="article:author" content="Ryan LI">
<meta property="article:tag" content="fluid dynamics">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://daydreamatnight.github.io/index/deriving_NS_intergral.png">
  
  
  <title>Derivation of Integral Fluid Equations - ShouRou</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/a11y-light.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"daydreamatnight.github.io","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":1,"cursorChar":"","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"♪"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":4},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 30vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>ShouRou</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/article_banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.1)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Derivation of Integral Fluid Equations">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      Ryan LI
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-05-12 17:39" pubdate>
        May 12, 2022 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      12k words
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      40 minutes
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Derivation of Integral Fluid Equations</h1>
            
            <div class="markdown-body">
              <div class="note note-primary">
            <p>Feeling unsafe when deploying CFD algorithms, the best way to alleviate the anxiety is to derive the fundamentals again.</p>
          </div>
<span id="more"></span>
<h2 id="control-volumes">1 Control Volumes</h2>
<h3 id="basic-physical-laws-of-fluid-mechanics">1.1 Basic Physical laws of fluid Mechanics</h3>
<h4 id="control-mass-lagrangian-frame-of-reference">1.1.1 Control mass &amp; <em>Lagrangian</em> frame of reference</h4>
<p>4 terms &amp; 3 facts:</p>
<ul>
<li><p>A <em><font color=#6944ba>system</font> (or <font color=#6944ba>control mass</font>)</em> is a collection of moving particles of interest.</p></li>
<li><p>The <em><font color=#6944ba>boundary</font></em> separates the system with its <em><font color=#6944ba>surroundings</font></em>.</p></li>
<li><p>The boundary may move and deform with the moving particles.</p></li>
</ul>
<h4 id="laws-of-mechanics">1.1.2 Laws of Mechanics</h4>
<p>3 laws of a control mass (suitable for bath fluid and solid systems):</p>
<ul>
<li><p>Conservation of mass <span class="math display">\[
m=const\text {  or equivalently } \frac{\mathrm{d} m}{\mathrm{~d} t}=0
\]</span></p></li>
<li><p>Linear momentum equation (Newton's second law) <span class="math display">\[
\textbf{F}  = m\textbf{a} = m\frac{d\textbf{V}}{dt} = \frac{d}{dt}(m\textbf{V})
\]</span></p></li>
<li><p>First law of thermodynamics <span class="math display">\[
dE=\delta Q-\delta W
\]</span></p></li>
</ul>
<div class="note note-info">
            <p>Angular coordinate is not considered</p>
          </div>
<h4 id="control-volume-eulerian-frame-of-reference">1.1.3 Control volume &amp; <em>Eulerian</em> frame of reference</h4>
<ul>
<li><p>A <em><font color=#6944ba>control volume</font></em> is a region of interest in space.</p></li>
<li><p>A <em><font color=#6944ba>control surface</font></em> closures the control volume</p></li>
<li><p>Mass, heat and work can cross the control surface and mass and properties can change with time within the control volume.</p></li>
</ul>
<h4 id="volume-and-mass-rate-of-flow">1.1.4 Volume and mass rate of flow</h4>
<p>3 key quantities of interest: Velocity <span class="math inline">\(\textbf{V}\)</span>, Volume flow <span class="math inline">\(Q\)</span> and Mass flow <span class="math inline">\(\dot{m}\)</span>.</p>
<p><img src="Flow_pass_control_surface.png" srcset="/img/loading.gif" lazyload style="zoom:20%;" /></p>
<p>Shown above, given a flow of fluid passing through an infinitesimal control surface (<span class="math inline">\(S\)</span>) with an area of <span class="math inline">\(dA\)</span> at an angle <span class="math inline">\(\theta\)</span> to the surface outward normal <span class="math inline">\(\textbf{n}\)</span>, in time <span class="math inline">\(dt\)</span>, the volume of the flow can be expressed as: <span class="math display">\[
d \mathcal{V}=V d t d A \cos \theta=(\mathbf{V} \cdot \mathbf{n}) d A d t
\]</span> Flow rate through surface can be integrated as: <span class="math display">\[
\color{purple}{Q=\int_{S} \frac{\mathrm{d} \mathcal{V}}{\mathrm{d} t}=\int_{S}(\mathbf{V} \cdot \mathbf{n}) d A}
\]</span> <div class="note note-info">
            <p>Sign of <span class="math inline">\(Q\)</span> is important, inflow = negative, outflow = positive.</p>
          </div></p>
<p>And the corresponding mass flow is: <span class="math display">\[
\dot{m}=\int_{S} \rho(\mathbf{x})(\mathbf{V} \cdot \mathbf{n}) d A
\]</span> In the special case that <span class="math inline">\(\rho\)</span> and <span class="math inline">\(\mathbf{V}\)</span> remain constant in space,<br />
<span class="math display">\[
\dot{m}=\rho AV
\]</span></p>
<h3 id="the-reynolds-transport-theorem">1.2 The Reynolds Transport Theorem</h3>
<p>The theorem refers to the relationship between (a) time derivative of a system property and (b) the rate of change of that property within a region of interest.</p>
<p>Let <span class="math inline">\(B\)</span> be the property (e.g. mass, energy, momentum) and <span class="math inline">\(\beta\)</span> be the amount of <span class="math inline">\(B\)</span> per unit mass <span class="math inline">\(\mathrm{d}B/\mathrm{d}m\)</span>, often called the <em>intensive value</em>. The Reynolds Transport Theorem stats that: <span class="math display">\[
\color{purple}{\frac{\mathrm{d}}{\mathrm{d} t}\left(B_{s}\right)=\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} \beta \rho d \mathcal{V}\right)+\int_{C S} \beta \rho(\mathbf{V} \cdot \mathbf{n}) d A}
\]</span></p>
<h4 id="concise-proof">1.2.1 concise proof</h4>
<p>Consider a fixed control volume with fluid moving through it shown as below. The control mass (particles) of interest move from the area surrounded by the solid circle to the area surrounded by dashed line within a time interval of <span class="math inline">\(dt\)</span>.</p>
<p><img src="Reynolds transport theorem proof.png" srcset="/img/loading.gif" lazyload style="zoom:45%;" /></p>
<p>The change rate of <span class="math inline">\(B\)</span> of the control mass equals the sum of</p>
<ul>
<li>the change rate of B in the <strong>fixed</strong> control volume (<span class="math inline">\(CV\)</span>)</li>
<li>outflow of B from the fixed control volume (<span class="math inline">\(CV\)</span>)</li>
<li>inflow of B into the fixed control volume (<span class="math inline">\(CV\)</span>)</li>
</ul>
<div class="note note-info">
            <p>The condition <strong>fixed</strong> is critical, if the control volume is moving with a velocity <span class="math inline">\(\mathbf{V_{s}}\)</span>, a reference system conversion is needed to set control volume fix, i.e. using relative velocity <span class="math inline">\(\mathbf{V_{r}}=\mathbf{V}-\mathbf{V_{s}}\)</span></p>
          </div>
<p>Consider <span class="math inline">\(b = \mathrm{d}B/\mathrm{d}m\)</span> Total amount of <span class="math inline">\(B\)</span> in the fixed control volume (<span class="math inline">\(CV\)</span>) is: <span class="math display">\[
B_{C V}=\int_{C V} \beta d m=\int_{C V} \beta \rho d \mathcal{V}
\]</span> Correspondingly, the change rate of <span class="math inline">\(B\)</span> within <span class="math inline">\(CV\)</span>: <span class="math display">\[
\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} \beta \rho d \mathcal{V}\right)
\]</span> Sum of inflow and outflow of <span class="math inline">\(B\)</span> toward <span class="math inline">\(CV\)</span>: <span class="math display">\[
\int_{C S} \beta \rho(\mathbf{V} \cdot \hat{\mathbf{n}}) d A_{o u t} + \int_{C S} \beta \rho(\mathbf{V} \cdot \hat{\mathbf{n}}) d A_{in} = \int_{C S} \beta \rho(\mathbf{V} \cdot \hat{\mathbf{n}}) d A
\]</span> <div class="note note-info">
            <p>Though this equation seems intuitive, more steps are needed to prove this from the idea of limits.</p>
          </div></p>
<p>As a result, the Reynolds transport theorem is arrived.</p>
<h2 id="conservation-of-mass-and-momentum">2 Conservation of Mass and Momentum</h2>
<p>The Reynolds transport theorem (RTT) establishes the relation between control mass and control volume, we already have control mass laws in <a href="#laws-of-mechanics">1.1.2 Laws of Mechanics</a>. To have the laws of fluid mechanics, the only thing needed is bringing <a href="#the-reynolds-transport-theorem">RTT</a> into laws of mechanics.</p>
<pre><code class=" mermaid">classDiagram
direction LR
    mechanical --&gt; RTT
    RTT --&gt; fluid
    class mechanical&#123;
    	+Conservation of Mass 
    	+Newton&#x27;s 2nd law
    	+Theomal equation
    &#125;
    class fluid&#123;
    	+Continuity equation
    	+Momentum equation
    	+Energy equation
    &#125;</code></pre>
<h3 id="conservation-of-mass">2.1 Conservation of Mass</h3>
<p>We have RTT together with: <span class="math display">\[
B=m, \\
\Rightarrow \beta=\frac{\mathrm{d}m}{\mathrm{d}m}=1, \\
\frac{\mathrm{d}m}{\mathrm{d}t}=0
\]</span> As a result, <span class="math display">\[
\color{purple}{\frac{\mathrm{d}}{\mathrm{d} t}\left(m\right)=0=\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} \rho d \mathcal{V}\right)+\int_{C S} \rho(\mathbf{V} \cdot \mathbf{n}) d A}
\]</span></p>
<h4 id="simplification">2.1.1 simplification</h4>
<ol type="1">
<li><p>In the case of a <strong>fixed <span class="math inline">\(CV\)</span></strong>, the equation becomes, <span class="math display">\[
\int_{C V} \frac{\partial}{\partial t}\rho d \mathcal{V}+\int_{C S} \rho(\mathbf{V} \cdot \mathbf{n}) d A=0
\]</span> <div class="note note-info">
            <p>Note that if <span class="math inline">\(CV\)</span> is deformable, <span class="math inline">\({\color{red}\frac{\mathrm{d}}{\mathrm{d} t}}\left(\int_{C V} \beta d \mathcal{V}\right)\neq \left(\int_{C V} {\color{red}\frac{\partial}{\partial t}}\beta d \mathcal{V}\right)\)</span>.</p>
          </div></p>
<div class="note note-info">
            <p>Note that instead of <span class="math inline">\(\frac{\mathrm{d}}{\mathrm{d} t}\)</span>, <span class="math inline">\(\frac{\partial}{\partial t}\)</span> is used when moving into the integration sign <span class="math inline">\(\int_{CS}\)</span>, because inside the integration, <span class="math inline">\(\beta=\beta(x,y,z,t)\)</span>.</p>
          </div></li>
<li><p><strong>Steady flow</strong> <span class="math inline">\(\frac{\partial}{\partial t}\rho=0\)</span>, then <span class="math display">\[
\int_{C S} \rho(\mathbf{V} \cdot \mathbf{n}) d A=0
\]</span> it also means the rate of mass entering the <span class="math inline">\(CV\)</span> equals that of leaving it i.e. <span class="math display">\[
\sum_{i}\left(\dot{m}_{i}\right)_{i n}=\sum_{i}\left(\dot{m}_{i}\right)_{o u t}
\]</span> as a result <span class="math display">\[
\dot{m}_{CS} = \int_{C S} \rho(\mathbf{V} \cdot \mathbf{n}) d A
\]</span></p></li>
<li><p><strong>Incompressible flow</strong> <span class="math inline">\(rho=Constant\)</span>, then</p>
<div class="note note-info">
            <p>it happens when a steady flow has a speed &lt; 0.3 Ma</p>
          </div>
<p><span class="math display">\[
\int_{C S}(\mathbf{V} \cdot \mathbf{n}) d A=0
\]</span> it means net volume flow entering and leaving the <span class="math inline">\(CV\)</span> is zero</p></li>
</ol>
<h3 id="linear-momentum-equation">2.2 Linear Momentum Equation</h3>
<p>We have RTT together with: <span class="math display">\[
\mathbf{B}=m\mathbf{V}, \\
\Rightarrow \beta=\frac{\mathrm{d}m\mathbf{V}}{\mathrm{d}m}=\mathbf{V}, \\
\textbf{F}  = \frac{d}{dt}(m\textbf{V})
\]</span> therefore: <span class="math display">\[
\color{purple}{\sum\mathbf{F} = \frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} \mathbf{V} \rho d \mathcal{V}\right)+\int_{C S} \mathbf{V} \rho(\mathbf{V} \cdot \mathbf{n}) d A}
\]</span> <div class="note note-info">
            <p>Some comments on this equation:</p><ul><li><p>this is a vector equation that can be divided into 3 directions, e.g. in x direction: <span class="math display">\[\sum\mathbf{F_{x}} = \frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} \mathbf{V} \rho d \mathcal{V}\right)+\int_{C S} \mathbf{V} \rho(\mathbf{V} \cdot \mathbf{n}) d A\]</span></p></li><li><p><span class="math inline">\(\sum \mathbf{F}\)</span> includes forces acting on the boundary (pressure and viscous stress forces) and body force (gravity).</p></li><li><p>inertial (non-accelerating) frame of reference is needed</p></li></ul>
          </div></p>
<h2 id="energy-equation-and-the-bernoulli-equation">3 Energy Equation and the Bernoulli Equation</h2>
<h3 id="the-energy-equation">3.1 the energy equation</h3>
<p>We have RTT together with: <span class="math display">\[
\mathbf{B}=E, \\
\Rightarrow \beta=\frac{\mathrm{d}E}{\mathrm{d}m}=e, \\
dE=\delta Q-\delta W
\]</span> As a result: <span class="math display">\[
\frac{\mathrm{d}Q}{\mathrm{d} t}-\frac{\mathrm{d}W}{\mathrm{d} t}=\frac{\mathrm{d}E}{\mathrm{d} t}=\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} e\rho d \mathcal{V}\right)+\int_{C S} e\rho(\mathbf{V} \cdot \mathbf{n}) d A
\]</span> where <span class="math inline">\(Q\)</span> denotes heat added to the system(energy diffusion)</p>
<p><span class="math inline">\(W\)</span> denotes work done by the system(performed by forces)</p>
<p><span class="math inline">\(e\)</span>, energy per unit mass is a sum of</p>
<ul>
<li>Internal: <span class="math inline">\(e_{i}=\hat{u}\)</span>, temperature, internal pressure</li>
<li>Kinetic: <span class="math inline">\(e_{k}=\frac{u^{2}}{2}\)</span>, momentum of fluid</li>
<li>Potential: <span class="math inline">\(e_{p}=gz\)</span>, gravity</li>
</ul>
<p><span class="math display">\[
e=\hat{u}+\frac{u^{2}}{2}+gz
\]</span></p>
<div class="note note-info">
            <p><span class="math inline">\(\hat{u}\)</span> denotes the internal energy, nothing to do with <span class="math inline">\(u\)</span> the velocity</p>
          </div>
<div class="note note-info">
            <p>Other forms of energy might be involved such as chemical, electromagnetic, but is neglected here.</p>
          </div>
<h4 id="work">3.1.1 Work</h4>
<p><span class="math display">\[
\dot{W} = \dot{W}_{s}+\dot{W}_{p}+\dot{W}_{v}
\]</span></p>
<div class="note note-info">
            <p>Note the symbol of work in this section is actually rate of work <span class="math inline">\(\dot{W} = \frac{dW}{dt}\)</span></p>
          </div>
<p>As shown, work is a sum of:</p>
<ul>
<li><p>Shaft work: <span class="math inline">\(\dot{W}_{s}\)</span>, done by the fluid</p></li>
<li><p>Pressure work: <span class="math inline">\(\dot{W}_{p}\)</span>, only applicable at surfaces, net effect is always zero</p>
<p>Pressure work performed on a surface element: <span class="math display">\[
d \dot{W}_{p}=-p(-\mathbf{V} \cdot \mathbf{n}) d A
\]</span> and the total pressure work on a control surface can then be integrated: <span class="math display">\[
\dot{W}_{p}=\int_{CS}p(\mathbf{V} \cdot \mathbf{n}) d A
\]</span></p></li>
<li><p>Viscous work: <span class="math inline">\(W_{v}\)</span>, only applicable at surfaces, due to the shear stresses</p>
<p>Viscous work performed on a surface in differential and integral formats:</p>
<p><span class="math display">\[
d \dot{W}_{v}=-\tau \cdot \mathbf{V} d A
\]</span></p>
<p><span class="math display">\[
\dot{W}_{v}=-\int_{C S} \tau \cdot \mathbf{V} d A
\]</span></p>
<div class="note note-info">
            <p>Note the negative sign represents the work done on the fluid, instead of the other way around.</p>
          </div>
<div class="note note-info">
            <p>This term is always negligible when the control surface is at a:</p><ul><li>Solid surface: <span class="math inline">\(\mathbf{V}=0\)</span> from no-slip condition at wall, so <span class="math inline">\(\dot{W}_{v}=0\)</span></li><li>Machine surface, always absorbed in $ _{s}$</li><li>Inlets and outlets, flow is approximately normal to the surface, the only stresses are normal and typically extremely small, neglected.</li></ul><p>This term needs to be evaluated for <strong>steamline surfaces</strong>.</p><p><img src="region of significant viscous work.png" srcset="/img/loading.gif" lazyload alt="region of significant viscous work" style="zoom:40%;" /></p>
          </div></li>
</ul>
<p>As a result the rate of work is: <span class="math display">\[
\dot{W} = \dot{W}_{s}+\int_{CS}p(\mathbf{V} \cdot \mathbf{n}) d A-\int_{C S} (\tau \cdot \mathbf{V})_{stream} d A
\]</span></p>
<h4 id="general-energy-equation">3.1.2 General Energy Equation</h4>
<p>Substitute previous work equation into <a href="#the-energy-equation">the energy equation</a>, while leave the viscosity work as a whole: <span class="math display">\[
\dot{Q}-\dot{W}_{s}-\int_{CS}p(\mathbf{V} \cdot \mathbf{n}) d A-\dot{W}_{v}=\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} e\rho d \mathcal{V}\right)+\int_{C S} e\rho(\mathbf{V} \cdot \mathbf{n}) d A
\]</span> Combine the left 3<sup>rd</sup> term, with the most right term: <span class="math display">\[
\dot{Q}-\dot{W}_{s}-\dot{W}_{v}=\frac{\mathrm{d}}{\mathrm{d} t}\left(\int_{C V} e\rho d \mathcal{V}\right)+\int_{C S} \left(e+\frac{p}{\rho}\right)\rho(\mathbf{V} \cdot \mathbf{n}) d A
\]</span> Substitute into <span class="math inline">\(e=\hat{u}+\frac{u^{2}}{2}+gz\)</span>, and <span class="math inline">\(\hat{h}=\hat{u}+\frac{p}{\rho}\)</span>, here is the final form of the energy equation: <span class="math display">\[
\color{purple}{\begin{aligned}
\dot{Q}-\dot{W}_{s}-\dot{W}_{v} &amp;=\frac{\mathrm{d}}{\mathrm{d} t}\left[\int_{C V}\left(\hat{u}+\frac{1}{2} V^{2}+g z\right) \rho d \mathcal{V}\right] \\
&amp;+\int_{C S}\left(\hat{h}+\frac{1}{2} V^{2}+g z\right) \rho(\mathbf{V} \cdot \mathbf{n}) d A
\end{aligned}}
\]</span> <div class="note note-info">
            <p>Enthalpy: The amount of heat content used or released in a system of constant pressure <span class="math display">\[\hat{h}=\hat{u}+\frac{p}{\rho}\]</span></p>
          </div></p>
<h4 id="simplicatation">3.1.3 Simplicatation</h4>
<ol type="1">
<li><p>One-dimensional, we have the surface integration <span class="math display">\[
\begin{aligned}
\int_{C S}\left(\hat{h}+\frac{1}{2} V^{2}+g z\right) \rho(\mathbf{V} \cdot \mathbf{n}) d A=&amp; \sum\left(\hat{h}+\frac{1}{2} V^{2}+g z\right)_{out} \dot{m}_{out} \\
&amp;-\sum\left(\hat{h}+\frac{1}{2} V^{2}+g z\right)_{in} \dot{m}_{in}
\end{aligned}
\]</span></p></li>
<li><p>Steady one dimensional flow with one inlet (point 1) and outlet (point 2) <span class="math display">\[
\dot{Q}-\dot{W}_{s}-\dot{W}_{v}=\dot{m}_{1}\left(\hat{h}_{1}+\frac{1}{2} V_{1}^{2}+g z_{1}\right)-\dot{m}_{2}\left(\hat{h}_{2}+\frac{1}{2} V_{2}^{2}+g z_{2}\right)
\]</span> by conservation of mass i.e. <span class="math inline">\(\dot{m}_{1} = \dot{m}_{2}\)</span>, <span class="math display">\[
\hat{h}_{1}+\frac{1}{2} V_{1}^{2}+g z_{1}=\left(\hat{h}_{2}+\frac{1}{2} V_{2}^{2}+g z_{2}\right)-q+w_{s}+w_{v}
\]</span> where <span class="math inline">\(q\)</span>, <span class="math inline">\(w_{s}\)</span> and <span class="math inline">\(w_{v}\)</span> are energy, shaft work and viscosity work per unit mass, respectively.</p></li>
</ol>
<h3 id="the-bernoulli-equation">3.2 The Bernoulli Equation</h3>
<h4 id="streamlines-streamtubes-pathlines-and-streaklines">3.2.1 Streamlines, streamtubes, pathlines and streaklines</h4>
<ol type="1">
<li>Streamline, a line tangent to the velocity field everywhere.</li>
</ol>
<p><span class="math display">\[
\frac{d x}{u}=\frac{d y}{v}=\frac{d z}{w}=\frac{d r}{|\mathbf{V}|}
\]</span></p>
<ol start="2" type="1">
<li>Streamtube, a closed arrangement of streamlines over which fluid cannot pass.</li>
<li>Pathline, actual trajectory followed by a given particle over time.</li>
<li>Streakline, history of a particles position which passed through a given point</li>
</ol>
<p>For <strong>steady flow</strong>, streamlines, pathlines and streaklines coincide.</p>
<h4 id="derivation-of-bernoullis-equation">3.2.2 Derivation of Bernoulli's Equation</h4>
<p>Control volume: streamtube</p>
<p><img src="Bernoulli's Equation CV.png" srcset="/img/loading.gif" lazyload alt="Bernoulli's Equation CV" style="zoom:50%;" /></p>
<p>Conservation of mass in <strong>steady and incompressibility</strong> condition: <span class="math display">\[
\int_{C S} \rho(\mathbf{V} \cdot \mathbf{n}) d A =0
\]</span></p>
<p><span class="math display">\[
\mathrm{d}\dot{m} = \rho\mathbf{V}A = \rho\left(\mathbf{V}+\mathrm{d}\mathbf{V}\right)\left(A+\mathrm{d}A\right)
\]</span></p>
<p>The forces along tube in the streamwise direction:</p>
<ul>
<li><p>Body force due to gravity: <span class="math display">\[
\begin{aligned}
F_{B}=-d W \sin \theta &amp;=-\rho g d \mathcal{V} \sin \theta \\
&amp;=-\rho g\left(A+\frac{d A}{2}\right) d s \sin \theta \\
&amp;=-\rho g\left(A+\frac{d A}{2}\right) d z \\
&amp;\approx-\rho gAd z
\end{aligned}
\]</span></p></li>
<li><p>Surface force due to pressure, in <strong>frictionless</strong> condition:</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
F_{S} &amp;=p A-(p+d p)(A+d A)+\frac{1}{2}(p+p+d p) d A \\
&amp;\approx-A d p
\end{aligned}
\]</span></p>
<p>Apply linear momentum conservation in the streamwise direction, <strong>steady</strong> condition: <span class="math display">\[
\begin{aligned}
F_{B}+F_{S} &amp;=\int_{C S} V \rho(\mathbf{V} \cdot \mathbf{n}) d A \\
&amp;=V \rho(-V) A+(V+d V) \rho(V+d V)(A+d A)
\end{aligned}
\]</span> With continuity equation before <span class="math inline">\(\rho VA=\rho(V+d V)(A+d A)\)</span>: <span class="math display">\[
\begin{aligned}
F_{B}+F_{S} &amp;=\int_{C S} V \rho(\mathbf{V} \cdot \mathbf{n}) d A \\
&amp;=V \rho(-V) A+(V+d V) \rho VA \\
&amp;=\rho AVd V
\end{aligned}
\]</span> Substitute the forces: <span class="math display">\[
\begin{aligned}
-\rho gAd z -A d p=\rho AVd V \\ 
\color{purple}{gd z +\frac{d p}{\rho}+Vd V =0}
\end{aligned}
\]</span> Integrated <strong>along a streamline</strong>: <span class="math display">\[
\begin{aligned}
\int_{S}gd z +\int_{S}\frac{d p}{\rho}+\int_{S}Vd V =0 \\
\color{purple}{gz+\frac{p}{\rho}+\frac{1}{2}V^{2}=C}
\end{aligned}
\]</span> <div class="note note-info">
            <p>Assumptions below are made:</p><ul><li>steady flow</li><li>incompressible, typically <span class="math inline">\(Ma&lt;0.3\)</span></li><li>frictionless</li><li>flow along a single streamline</li></ul>
          </div></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/fluid-dynamics/">fluid dynamics</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    Copyright: This blog is provided under a <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 licience</a>
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/14/Derivation-of-Differential-Fluid-Equations/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Derivation of Differential Fluid Equations</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/05/09/paper-reading-Swin-transformer/">
                        <span class="hidden-mobile">Swin transformer</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://daydreamatnight.github.io/about/" target="_blank" rel="nofollow noopener"><span>Shoushou</span></a> <i class="iconfont icon-love"></i> <a href="https://daydreamatnight.github.io/about/" target="_blank" rel="nofollow noopener"><span>Rourou</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            Toal views: 
            <span id="busuanzi_value_site_pv"></span>
             
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            Total visiters: 
            <span id="busuanzi_value_site_uv"></span>
            
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  





  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>






  
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/DynamicLine.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js".js"></script>
<script src="/%3Cscript%20src=%22https:/cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
